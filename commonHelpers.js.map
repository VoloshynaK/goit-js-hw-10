{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import \"../css/common.css\";\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n// import Notiflix, { Notify } from \"notiflix\";\n// Notiflix.Notify.init({position: \"center-top\"});\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst dateInput = document.querySelector(\"#datetime-picker\");\nconst startBtn = document.querySelector(\"button[data-start]\");\nconst daysVal = document.querySelector(\"span[data-days]\");\nconst hoursVal = document.querySelector(\"span[data-hours]\");\nconst minutesVal = document.querySelector(\"span[data-minutes]\");\nconst secondsVal = document.querySelector(\"span[data-seconds]\");\n\nlet timerIsActive = false;\nstartBtn.disabled = true;\ndateInput.disabled = false;\n\nconst fp = flatpickr(dateInput, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n      const timeDif = selectedDates[0].getTime() - new Date().getTime();\n    if (timeDif > 0 && !timerIsActive) {\n        startBtn.disabled = false;\n        startBtn.addEventListener(\"click\", () => {\n            onStartBtn(timeDif);\n            timerIsActive = true;\n            startBtn.disabled = true;\n            dateInput.disabled = true;\n        });\n    } else {\n        if (timerIsActive) {\n            // return Notify.failure(\"Timer is already running!\");\n            return iziToast.error({\n                title: 'Error',\n                message: 'Timer is already running!',\n                position: 'topCenter',\n            });\n        }\n    };\n      \n  },\n});\n\nfunction onStartBtn(milliseconds) {\n    const intervalId = setInterval(() => {\n        if (milliseconds > 0) {\n            changeTextContent(convertMs(milliseconds));\n            milliseconds -= 1000;\n        } else {\n            clearInterval(intervalId);\n        }\n    }, 1000);\n}\n\nfunction addLeadingZero(value) {\n    return value.toString().padStart(2, \"0\");\n}\n\nfunction changeTextContent({days, hours, minutes, seconds}) {\n    daysVal.textContent = addLeadingZero(days);\n    hoursVal.textContent = addLeadingZero(hours);\n    minutesVal.textContent = addLeadingZero(minutes);\n    secondsVal.textContent = addLeadingZero(seconds);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}"],"names":["dateInput","startBtn","daysVal","hoursVal","minutesVal","secondsVal","timerIsActive","flatpickr","selectedDates","timeDif","onStartBtn","iziToast","milliseconds","intervalId","changeTextContent","convertMs","addLeadingZero","value","days","hours","minutes","seconds","ms"],"mappings":"+IASA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAU,SAAS,cAAc,iBAAiB,EAClDC,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAa,SAAS,cAAc,oBAAoB,EAE9D,IAAIC,EAAgB,GACpBL,EAAS,SAAW,GACpBD,EAAU,SAAW,GAEVO,EAAUP,EAAW,CAC9B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQQ,EAAe,CACnB,MAAMC,EAAUD,EAAc,CAAC,EAAE,QAAO,EAAK,IAAI,OAAO,UAC1D,GAAIC,EAAU,GAAK,CAACH,EAChBL,EAAS,SAAW,GACpBA,EAAS,iBAAiB,QAAS,IAAM,CACrCS,EAAWD,CAAO,EAClBH,EAAgB,GAChBL,EAAS,SAAW,GACpBD,EAAU,SAAW,EACjC,CAAS,UAEGM,EAEA,OAAOK,EAAS,MAAM,CAClB,MAAO,QACP,QAAS,4BACT,SAAU,WAC1B,CAAa,CAIV,CACH,CAAC,EAED,SAASD,EAAWE,EAAc,CAC9B,MAAMC,EAAa,YAAY,IAAM,CAC7BD,EAAe,GACfE,EAAkBC,EAAUH,CAAY,CAAC,EACzCA,GAAgB,KAEhB,cAAcC,CAAU,CAE/B,EAAE,GAAI,CACX,CAEA,SAASG,EAAeC,EAAO,CAC3B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CAC3C,CAEA,SAASH,EAAkB,CAAC,KAAAI,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAG,CACxDnB,EAAQ,YAAcc,EAAeE,CAAI,EACzCf,EAAS,YAAca,EAAeG,CAAK,EAC3Cf,EAAW,YAAcY,EAAeI,CAAO,EAC/Cf,EAAW,YAAcW,EAAeK,CAAO,CACnD,CAEA,SAASN,EAAUO,EAAI,CAQrB,MAAMJ,EAAO,KAAK,MAAMI,EAAK,KAAG,EAE1BH,EAAQ,KAAK,MAAOG,EAAK,MAAO,IAAI,EAEpCF,EAAU,KAAK,MAAQE,EAAK,MAAO,KAAQ,GAAM,EAEjDD,EAAU,KAAK,MAASC,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAJ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}